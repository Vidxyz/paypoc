# =============================================================================
# Payments Platform Environment Variables
# =============================================================================
# This file contains all environment variables needed for building and deploying
# the payments platform. Copy this file to scripts/.env and fill in your actual values.
#
# Usage:
#   1. Copy this file: cp scripts/.env.example scripts/.env
#   2. Edit scripts/.env with your actual credentials
#   3. The deploy.sh script will automatically source scripts/.env
#
# Note: scripts/.env is gitignored for security - never commit actual credentials
# =============================================================================

# =============================================================================
# Auth0 Configuration (Shared)
# =============================================================================
# All Auth0 applications share the same tenant/domain
# Get this from your Auth0 Dashboard → Settings → Domain
AUTH0_DOMAIN=your-tenant.auth0.com

# Auth0 API Audience (used for JWT token validation in backend services)
# This should match the API identifier in your Auth0 Dashboard
# Format: https://your-api-identifier
AUTH0_AUDIENCE=https://buyit.local/api

# =============================================================================
# Auth0 Applications - Frontend (BUYER accounts)
# =============================================================================
# Create a Single Page Application (SPA) in Auth0 Dashboard
# Application Type: Single Page Application
# Allowed Callback URLs: https://buyit.local, http://localhost:5173
# Allowed Logout URLs: https://buyit.local, http://localhost:5173
# Token Endpoint Authentication Method: None (for SPAs)
AUTH0_FRONTEND_CLIENT_ID=your-frontend-client-id
AUTH0_FRONTEND_REDIRECT_URI=https://buyit.local
AUTH0_FRONTEND_AUDIENCE=https://buyit.local/api

# =============================================================================
# Auth0 Applications - Admin Console (ADMIN accounts only)
# =============================================================================
# Create a Single Page Application (SPA) in Auth0 Dashboard
# Application Type: Single Page Application
# Allowed Callback URLs: https://admin.local, http://localhost:3001
# Allowed Logout URLs: https://admin.local, http://localhost:3001
# Token Endpoint Authentication Method: None (for SPAs)
# Note: Auth0 Action will enforce ADMIN-only access
AUTH0_ADMIN_CLIENT_ID=your-admin-console-client-id
AUTH0_ADMIN_REDIRECT_URI=https://admin.local
AUTH0_ADMIN_AUDIENCE=https://buyit.local/api

# =============================================================================
# Auth0 Applications - Seller Console (SELLER accounts only)
# =============================================================================
# Create a Single Page Application (SPA) in Auth0 Dashboard
# Application Type: Single Page Application
# Allowed Callback URLs: https://seller.local, http://localhost:3002
# Allowed Logout URLs: https://seller.local, http://localhost:3002
# Token Endpoint Authentication Method: None (for SPAs)
# Note: Auth0 Action will enforce SELLER-only access
AUTH0_SELLER_CLIENT_ID=your-seller-console-client-id
AUTH0_SELLER_REDIRECT_URI=https://seller.local
AUTH0_SELLER_AUDIENCE=https://buyit.local/api

# =============================================================================
# Auth0 Machine-to-Machine (M2M) Application
# =============================================================================
# Used by the user service to call Auth0 Management API
# Create a Machine to Machine Application in Auth0 Dashboard
# Authorize it for the Auth0 Management API
# Grant permissions: read:users, create:users, update:users, update:users_app_metadata
AUTH0_M2M_CLIENT_ID=your-m2m-client-id
AUTH0_M2M_CLIENT_SECRET=your-m2m-client-secret

# =============================================================================
# Stripe Configuration
# =============================================================================
# Get these from your Stripe Dashboard: https://dashboard.stripe.com/apikeys
# For testing, use test keys (pk_test_* and sk_test_*)
# For production, use live keys (pk_live_* and sk_live_*)
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key

# Stripe Webhook Secret
# Get this from Stripe Dashboard → Developers → Webhooks → Add endpoint
# After creating a webhook endpoint, click on it and copy the "Signing secret"
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# =============================================================================
# Database Configuration
# =============================================================================
# These are used when creating Kubernetes secrets for database connections
# PostgreSQL is deployed via Terraform (see infra/minikube/)
# These values should match your PostgreSQL deployment
DB_USERNAME=postgres
DB_PASSWORD=postgres

# =============================================================================
# Play Framework Configuration (User Service)
# =============================================================================
# Secret key for Play Framework session signing and encryption
# Generate a secure random key (minimum 64 characters)
# You can generate one with: openssl rand -base64 64
PLAY_HTTP_SECRET_KEY=your-play-http-secret-key-min-64-characters-long

# =============================================================================
# Kafka Configuration
# =============================================================================
# Kafka bootstrap servers for event streaming
# Default for Kubernetes deployment
KAFKA_BOOTSTRAP_SERVERS=kafka-cluster-kafka-bootstrap.kafka.svc.cluster.local:9092

# =============================================================================
# Service-to-Service Authentication Tokens
# =============================================================================
# These are opaque tokens used for service-to-service communication
# Generate secure random tokens for production use
# You can generate with: openssl rand -hex 32

# Internal API Token (for internal service communication)
INTERNAL_API_TOKEN=internal-test-token-change-in-production

# Ledger Service API Token (for payments service to call ledger service)
# This token must match the LEDGER_SERVICE_API_TOKEN in ledger service Kubernetes secret
LEDGER_SERVICE_API_TOKEN=ledger-service-secret-token-change-in-production

# =============================================================================
# Optional: Development/Testing Overrides
# =============================================================================
# These are optional and have defaults in the deploy script
# Uncomment and set if you need to override defaults

# AUTH0_FRONTEND_REDIRECT_URI=https://buyit.local
# AUTH0_ADMIN_REDIRECT_URI=https://admin.local
# AUTH0_SELLER_REDIRECT_URI=https://seller.local
# AUTH0_FRONTEND_AUDIENCE=https://buyit.local/api
# AUTH0_ADMIN_AUDIENCE=https://buyit.local/api
# AUTH0_SELLER_AUDIENCE=https://buyit.local/api
VITE_IS_PRODUCTION=false